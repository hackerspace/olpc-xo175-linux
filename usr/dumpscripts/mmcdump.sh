mmc ()
{
	echo === twsi$1 ===
	while read a n; do
		p=$(( $a + $2 ))
		printf "%-33s 0x%08x %s\n" $n $p $(busybox devmem $p 16)
	done <<EOF
0x0000 SD_SYS_ADDR_LOW
0x0002 SD_SYS_ADDR_HIGH
0x0004 SD_BLOCK_SIZE
0x0006 SD_BLOCK_COUNT
0x0008 SD_ARG_LOW
0x000A SD_ARG_HIGH
0x000C SD_TRANSFER_MOD
0x000E SD_CMD
0x0010 SD_RESP_0
0x0012 SD_RESP_1
0x0014 SD_RESP_2
0x0016 SD_RESP_3
0x0018 SD_RESP_4
0x001A SD_RESP_5
0x001C SD_RESP_6
0x001E SD_RESP_7
0x0020 SD_BUFFER_DATA_PORT_0
0x0022 SD_BUFFER_DATA_PORT_1
0x0024 SD_PRESENT_STATE_1
0x0026 SD_PRESENT_STATE_2
0x0028 SD_HOST_CTRL
0x002A SD_BLOCK_GAP_CTRL
0x002C SD_CLOCK_CTRL
0x002E SD_TIMEOUT_CTRL_SW_RESET
0x0030 SD_NORMAL_INT_STATUS
0x0032 SD_ERROR_INT_STATUS
0x0034 SD_NORMAL_INT_STATUS_EN
0x0036 SD_ERROR_INT_STATUS_EN
0x0038 SD_NORMAL_INT_STATUS_INT_EN
0x003A SD_ERROR_INT_STATUS_INT_EN
0x003C SD_AUTO_CMD12_ERROR_STATUS
0x003E SDHCI_HOST_CONTROL2
0x0040 SD_CAPABILITIES_1
0x0042 SD_CAPABILITIES_2
0x0048 SD_MAX_CURRENT_1
0x004A SD_MAX_CURRENT_2
0x0050 SD_FORCE_EVENT_AUTO_CMD12_ERR
0x0052 SD_FORCE_EVENT_FOR_ERROR_STAT
0x0054 SD_ADMA_ERROR_STATUS
0x0058 SD_ADMA_SYS_ADDR_1
0x005A SD_ADMA_SYS_ADDR_2
0x005C SD_ADMA_SYS_ADDR_3
0x005E SD_ADMA_SYS_ADDR_4
0x00E0 SD_FIFO_PARAM
0x00E4 SD_SPI_MODE
0x00E6 SD_CLOCK_AND_BURST_SIZE_SETUP
0x00E8 SD_CE_ATA_1
0x00EA SD_CE_ATA_2
0x00EC SD_PAD_IO_SETUP
0x00FC SD_SLOT_INT_STATUS
0x00FE SD_HOST_CTRL_VER
EOF
	echo
}

#mmc 0 0xd4280000
mmc 1 0xd4280800
#mmc 2 0xd4281000
